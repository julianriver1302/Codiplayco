<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Mis Logros - CodiPlay</title>

	<!-- Estilos principales del panel de usuario -->
	<link rel="stylesheet" th:href="@{/assetsPanelUsuaario/styleUsuario.css}">

	<!-- Fuente Poppins -->
	<link
		href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
		rel="stylesheet">

	<!-- Font Awesome -->
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>

	<div class="dashboard-container">
		<!-- SIDEBAR -->
		<aside class="sidebar">
			<div class="logo-container">
				<div class="logo-icon">
					<i class="fa-solid fa-robot"></i>
				</div>
				<span class="logo-text">CodiPlay</span>
			</div>

			<nav class="sidebar-menu">
				<ul>
					<li>
						<a th:href="@{/PanelControlUsuario/inicio}">
							<i class="fa-solid fa-house"></i>
							<span>Inicio</span>
						</a>
					</li>
					<li>
						<a th:href="@{/PanelControlUsuario/mis_cursos}">
							<i class="fa-solid fa-book-open"></i>
							<span>Mis cursos</span>
						</a>
					</li>
					<li class="active">
						<a th:href="@{/PanelControlUsuario/mis_logros}">
							<i class="fa-solid fa-trophy"></i>
							<span>Mis logros</span>
						</a>
					</li>
					<li>
						<a th:href="@{/PanelControlUsuario/bandeja}">
							<i class="fa-solid fa-box"></i>
							<span>Bandeja</span>
						</a>
					</li>
					<li>
						<a th:href="@{/PanelControlUsuario/foros}">
							<i class="fa-solid fa-users"></i>
							<span>Foros</span>
						</a>
					</li>
				</ul>
			</nav>

			<div class="sidebar-footer">
				<a th:href="@{/PanelControlUsuario/soporte}" class="support-link">
					<i class="fa-solid fa-headset"></i>
					<span>Soporte</span>
				</a>
			</div>
		</aside>

		<!-- MAIN CONTENT -->
		<main class="main-content">

			<!-- HEADER -->
			<header class="top-header">
				<button class="mobile-nav-toggle" type="button">
					<i class="fa-solid fa-bars"></i>
				</button>
				<div class="header-text">
					<h1>Mis Logros</h1>
					<p>Aquí se mostrarán los logros obtenidos por el usuario.</p>
				</div>
				<div class="search-bar search-bar--hidden-logros">
					<i class="fa-solid fa-magnifying-glass"></i>
					<input type="text" placeholder="Buscar logros...">
				</div>

				<div class="user-actions" style="display: flex; align-items: center; gap: 20px;">

					<!-- Botón de tema (modo oscuro) -->
					<div class="icon-btn theme-btn" id="theme-toggle" title="Cambiar Tema">
						<i class="fa-solid fa-moon"></i>
					</div>

					<div class="user-profile" id="user-profile-toggle">
						<div class="avatar">
							<!-- Avatar dinámico del usuario -->
							<img th:if="${usuario != null and usuario.avatar != null and !#strings.isEmpty(usuario.avatar)}"
								th:src="@{'/uploads/avatars/' + ${usuario.avatar}}" alt="User Avatar"
								class="avatar-img" />
							<img th:unless="${usuario != null and usuario.avatar != null and !#strings.isEmpty(usuario.avatar)}"
								th:src="@{/assetsPanelUsuaario/22b8078e-03d9-49d7-a4a6-f70b4208e8c9-removebg-preview.png}"
								alt="User Avatar" class="avatar-img" />
						</div>
						<span class="username"
							th:text="${usuario != null} ? ${usuario.nombre} : 'Usuario'">Usuario</span>
						<i class="fa-solid fa-chevron-down" style="font-size: 12px; margin-left: 4px;"></i>
					</div>
					<div class="user-menu" id="user-menu" style="display: none;">
						<a th:href="@{/PanelControlUsuario/editar-perfil}"><i class="fa-solid fa-user-pen"></i> Editar perfil</a>
						<a th:href="@{/logout}"><i class="fa-solid fa-right-from-bracket"></i> Cerrar sesión</a>
					</div>
				</div>
			</header>

			<!-- CONTENIDO LOGROS -->
			<div class="content-area">
				<div class="achievements-wrapper">
					<div class="page-header">
						
						<!-- Marca de agua "CodiPlayCo" estilo fondo -->
						<div class="header-watermark">CodiPlayCo</div>
					</div>
				</div>
			</div>
		</main>
	</div>

	<script th:src="@{/assetsPanelUsuaario/inicio.js}"></script>

	<script>
		// Toggle simple del menú de usuario al hacer clic en el chip
		(function () {
			const profile = document.getElementById('user-profile-toggle');
			const menu = document.getElementById('user-menu');
			if (!profile || !menu) return;

			profile.addEventListener('click', function (e) {
				e.stopPropagation();
				const visible = menu.style.display === 'block';
				menu.style.display = visible ? 'none' : 'block';
			});

			// Cerrar el menú si se hace clic fuera
			document.addEventListener('click', function () {
				menu.style.display = 'none';
			});
		})();
	</script>

</body>

</html>